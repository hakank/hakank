#| 

  The BUGS Book
  Example 2.4.1 Transformation

var : p10
#f: 0.7130000000000005
#t: 0.2870000000000002
mean: 0.2870000000000002
Min: 0 Mean: 0.283 Max: 1 Variance: 0.202911 Stddev: 0.4504564351854683
Credible interval (0.84): 0..1

var : y
145.8060505229353: 0.0009999999999999994
0.7016023141459098: 0.0009999999999999994
33.979309347451576: 0.0009999999999999994
0.38124190993814155: 0.0009999999999999994
-6.00821047009093: 0.0009999999999999994
...
5.693678779254052: 0.0009999999999999994
0.021809656510781386: 0.0009999999999999994
0.29637422140943204: 0.0009999999999999994
87.30938784653291: 0.0009999999999999994
-0.0006470028646648922: 0.0009999999999999994
mean: 12.924325050892142
Min: -143.22323386750577 Mean: 12.878263046197603 Max: 387.5145445618128 Variance: 1289.43051297386 Stddev: 35.90864120199844
Credible interval (0.84): -12.441479564877563..40.48048742578374

var : z
-0.14494180788867755: 0.0009999999999999994
1.0715745165771164: 0.0009999999999999994
0.6600967123414258: 0.0009999999999999994
0.5904259663778647: 0.0009999999999999994
0.08296658668983944: 0.0009999999999999994
...
-0.24637396461338595: 0.0009999999999999994
0.49151117652119236: 0.0009999999999999994
-1.079818467612454: 0.0009999999999999994
1.2548623061545834: 0.0009999999999999994
0.4931887497762293: 0.0009999999999999994
mean: 0.006828795730922586
Min: -3.1160206198983573 Mean: -0.0032127136825785218 Max: 3.145294946354751 Variance: 0.9782588504295784 Stddev: 0.9890696893695501
Credible interval (0.84): -1.379887130047456..1.4099253407963972

  This program was created by Hakan Kjellerstrand, hakank@gmail.com
  See also my Racket page: http://www.hakank.org/racket/

|#

#lang gamble

(require racket)
(require "gamble_utils.rkt")


(define (bugs-book-2-4-1)
  (; enumerate
   rejection-sampler
   ; importance-sampler
   ; mh-sampler
   
    (define z (normal 0 1))
    (define y (expt (+ (* 2 z) 1) 3))
    (define p10 (> y 10.0))

    (list p10 y z)
    
   )
  )

(show-marginals (bugs-book-2-4-1)
                (list "p10" "y" "z")
                #:truncate-output 5
                #:show-stats? #t
                #:credible-interval 0.84
                )
