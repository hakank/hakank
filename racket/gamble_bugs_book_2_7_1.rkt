#| 

  BUGS book, 2.7.1 in Racket Gamble.
  Example 2.7.1 Surgery (continued): prediction

var : p6
#f: 0.9560000000000007
#t: 0.04400000000000001
mean: 0.04400000000000001
Min: 0 Mean: 0.042 Max: 1 Variance: 0.040236 Stddev: 0.20058913230780973
Credible interval (0.84): 0..0

var : y
1: 0.2620000000000002
2: 0.20800000000000016
0: 0.20500000000000015
3: 0.1410000000000001
4: 0.09200000000000005
5: 0.048000000000000015
6: 0.020999999999999994
7: 0.010999999999999992
8: 0.006999999999999995
9: 0.004999999999999997
mean: 2.0130000000000012
Min: 0 Mean: 2.087 Max: 10 Variance: 3.135431 Stddev: 1.770714827407282
Credible interval (0.84): 0..4

var : theta
0.18687828714725477: 0.0009999999999999994
0.23364872709553483: 0.0009999999999999994
0.1134616387563476: 0.0009999999999999994
0.07826136747430815: 0.0009999999999999994
0.19991718900795652: 0.0009999999999999994
0.10189334007872039: 0.0009999999999999994
0.11109847098467233: 0.0009999999999999994
0.16883481363307867: 0.0009999999999999994
0.08911526133065163: 0.0009999999999999994
0.11476647021279644: 0.0009999999999999994
...
0.039682653648691835: 0.0009999999999999994
0.12561041161337463: 0.0009999999999999994
0.03354112548642264: 0.0009999999999999994
0.053144929617751885: 0.0009999999999999994
0.07065263667924461: 0.0009999999999999994
0.06097786411016873: 0.0009999999999999994
0.10714556592540948: 0.0009999999999999994
0.08163040028143075: 0.0009999999999999994
0.011987001017450673: 0.0009999999999999994
0.049711559010171: 0.0009999999999999994
mean: 0.10054352432503894
Min: 0.005610172446861618 Mean: 0.10206436928325201 Max: 0.3103341139713094 Variance: 0.002900611574988705 Stddev: 0.05385732610322114
Credible interval (0.84): 0.022000404616359583..0.15962440832465738

  This program was created by Hakan Kjellerstrand, hakank@gmail.com
  See also my Racket page: http://www.hakank.org/racket/

|#

#lang gamble

(require racket)
(require "gamble_utils.rkt")

(define (bugs-book-2-7-1)
  (; rejection-sampler
   importance-sampler
   ; mh-sampler

   (define theta (beta 3 27))     ;; prior distribution
   (define y (binomial 20 theta)) ;; sampling distribution
   (define p6 (>= y 6))

   (list p6 y theta)
   )
  )

(show-marginals (bugs-book-2-7-1)
                (list "p6" "y" "theta")
                #:truncate-output 10
                #:show-stats? #t
                #:credible-interval 0.84
                )

